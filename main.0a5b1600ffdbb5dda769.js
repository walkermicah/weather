(()=>{var e={96:(e,t,r)=>{e.exports={Celsius:r(750),Fahrenheit:r(320),Kelvin:r(563)}},750:e=>{e.exports=class{constructor(e){if(!e&&0!==e||"number"!=typeof e)throw new Error(`Expected input to be a number, received ${typeof e}!`);this.degrees=e}toFahrenheit(){return this.degrees?9*this.degrees/5+32:0}toKelvin(){return this.degrees?this.degrees+273.15:0}toString(){return`${String(this.degrees||0)}°C`}}},320:e=>{e.exports=class{constructor(e){if(!e&&0!==e||"number"!=typeof e)throw new Error(`Expected input to be a number, received ${typeof e}!`);this.degrees=e}toCelsius(){return this.degrees?5*(this.degrees-32)/9:0}toKelvin(){return this.degrees?5*(this.degrees-32)/9+273.15:0}toString(){return`${String(this.degrees||0)}°F`}}},563:e=>{e.exports=class{constructor(e){if(!e&&0!==e||"number"!=typeof e)throw new Error(`Expected input to be a number, received ${typeof e}!`);this.degrees=e}toCelsius(){return this.degrees?this.degrees-273.15:0}toFahrenheit(){return this.degrees?9*(this.degrees-273.15)/5+32:0}toString(){return`${String(this.degrees||0)}K`}}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{"use strict";const e=r(96),t=document.getElementById("app"),n=document.querySelector(".weather-overview-location"),s=document.querySelector(".weather-overview-temp"),o=document.querySelector(".weather-overview-description"),a=document.querySelector(".error"),i=document.querySelector(".error-notification-text"),c=document.getElementById("search-form-alert"),l=document.querySelector(".feelslike-temp"),d=document.querySelector(".high-temp"),m=document.querySelector(".loader"),u=document.querySelector(".low-temp"),h=document.querySelector(":root"),v=document.querySelector(".search-form"),g=document.querySelector(".search-form-input"),p=document.querySelector(".temp-conversion"),y=document.querySelector(".time"),w=document.querySelector(".weather"),C=document.querySelector(".temp-conversion-c"),b=document.querySelector(".temp-conversion-f"),f=r(96);let x="c";const S=e=>{h.style.setProperty("--nav-color",e),h.style.setProperty("--overview-color",e),h.style.setProperty("--details-color",e)},L=e=>{w.classList.remove("hidden"),a.classList.add("hidden"),m.classList.add("hidden"),v.classList.remove("invisible"),p.classList.remove("invisible"),y.classList.remove("invisible"),(e=>{n.textContent=e.name.toUpperCase(),o.textContent=e.weather[0].main.toUpperCase(),localStorage.active&&(x=localStorage.getItem("active")),"c"===x&&(s.textContent=`${Math.round(e.main.temp)}°`,d.textContent=`${Math.round(e.main.temp_max)}°`,u.textContent=`${Math.round(e.main.temp_min)}°`,l.textContent=`${Math.round(e.main.feels_like)}°`,C.classList.add("temp-conversion-active"),b.classList.remove("temp-conversion-active")),"f"===x&&(s.textContent=`${Math.round(new f.Celsius(Number(e.main.temp)).toFahrenheit())}°`,d.textContent=`${Math.round(new f.Celsius(Number(e.main.temp_max)).toFahrenheit())}°`,u.textContent=`${Math.round(new f.Celsius(Number(e.main.temp_min)).toFahrenheit())}°`,l.textContent=`${Math.round(new f.Celsius(Number(e.main.feels_like)).toFahrenheit())}°`,b.classList.add("temp-conversion-active"),C.classList.remove("temp-conversion-active"));const t=e.dt+e.timezone,r=new Date(1e3*t);y.textContent=r.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0,timeZone:"UTC"})})(e),(e=>{const r=e.weather[0].main,n=(e=>{const t=new Date(1e3*e).getUTCHours();return t>=20||t<=6})(e.dt+e.timezone);"Clear"!==r||n?"Clear"===r&&n?(t.className="clear-night-bkg",S("white")):"Clouds"!==r||n?"Clouds"===r&&n?(t.className="clouds-night-bkg",S("white")):"Fog"===r||"Mist"===r?(t.className="mist-bkg",S("black")):"Snow"!==r||n?"Snow"===r&&n?(t.className="snow-night-bkg",S("white")):"Rain"===r||"Drizzle"===r?(t.className="rain-bkg",S("white")):"Thunderstorm"===r?(t.className="thunder-bkg",S("white")):(t.className="default-bkg",S("white")):(t.className="snow-day-bkg",S("black")):(t.className="clouds-day-bkg",S("black")):(t.className="clear-day-bkg",S("black"))})(e)},k=e=>{a.classList.remove("hidden"),m.classList.add("hidden"),w.classList.add("hidden"),v.classList.remove("invisible"),p.classList.add("invisible"),y.classList.add("invisible"),t.className="default-bkg",i.textContent=e},q=document.getElementById("search-form-alert"),N=document.querySelector(".search-form-btn"),$=document.querySelector(".search-form"),M=document.querySelector(".search-form-input"),E=document.querySelector(".temp-conversion"),F=async e=>{if(e.preventDefault(),!M.checkValidity())return g.validity.valueMissing&&(c.className="alert-visible",c.textContent="Please enter a city!"),g.validity.tooShort&&(c.className="alert-visible",c.textContent="City name must be longer than 2 letters!"),void(g.validity.patternMismatch&&(c.className="alert-visible",c.textContent="City name can only contain letters!"));q.className="invisible";const t=M.value,r=await(async e=>{try{const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=1204b8924e1c5f7eee3168caa29549a6&units=metric`,{mode:"cors"});return await t.json()}catch(t){k(`Could not find weather data for "${e}." Try searching again.`)}})(t);"404"===r.cod?k(`Could not find weather data for "${t}." Try searching again.`):(console.log(r),L(r)),$.reset()};(async()=>{m.classList.remove("hidden"),a.classList.add("hidden"),w.classList.add("hidden"),v.classList.add("invisible"),p.classList.add("invisible"),y.classList.add("invisible"),t.className="default-bkg";const r=await(async()=>{const e=await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition(e,(()=>{t("Can't get your location.\r\nTry searching for a city.\r\n")}))})),{latitude:t,longitude:r}=e.coords;return[t,r]})().catch((e=>{k(e)}));if(r){const e=await(async e=>{try{const[t,r]=e,n=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${r}&appid=1204b8924e1c5f7eee3168caa29549a6&units=metric`,{mode:"cors"});return await n.json()}catch(e){k("Could not get weather data for your location.\nTry searching for a city.")}})(r);e&&L(e)}N.addEventListener("click",F),E.addEventListener("click",(t=>{(t=>{const r=[s,l,d,u];if(t.target.classList.contains("temp-conversion-c")&&"c"!==x){const t=(t=>t.map((t=>`${Math.floor(new e.Fahrenheit(Number(t.textContent.slice(0,-1))).toCelsius())}°`)))(r);[s.textContent,l.textContent,d.textContent,u.textContent]=t,x="c",C.classList.add("temp-conversion-active"),b.classList.remove("temp-conversion-active")}if(t.target.classList.contains("temp-conversion-f")&&"f"!==x){const t=(t=>t.map((t=>`${Math.floor(new e.Celsius(Number(t.textContent.slice(0,-1))).toFahrenheit())}°`)))(r);[s.textContent,l.textContent,d.textContent,u.textContent]=t,x="f",b.classList.add("temp-conversion-active"),C.classList.remove("temp-conversion-active")}})(t),localStorage.setItem("active",t.target.id)}))})()})()})();